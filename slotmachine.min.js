!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SlotMachine",[],e):"object"==typeof exports?exports.SlotMachine=e():t.SlotMachine=e()}(self,(()=>(()=>{"use strict";var t={178:(t,e,i)=>{i.d(e,{l:()=>s});class s{constructor(t){this.saldoCliente=200,this.saldoCasa=200,this.roleta1=99,this.roleta2=99,this.roleta3=99,this.ultimoGanho=0,console.log(t),this.saldoCliente=t}debitarCliente(t){return this.saldoCliente>0?(t<0&&(this.ultimoGanho=-1*t),this.saldoCliente-=t,this.saldoCasa+=t,console.log("Cliente:"+String(this.saldoCliente)),console.log("Casa:"+String(this.saldoCasa)),this.saldoCliente):(alert("Você não possui saldo !!, bora fazer um PIX ?"),this.saldoCliente)}getSaldoCasa(){return this.saldoCasa}getSaldoCliente(){return this.saldoCliente}getUltimoGanho(){let t=this.ultimoGanho;return this.ultimoGanho=0,t}depositaPIX(){this.saldoCliente+=100}verificaPremio(){return this.roleta1==this.roleta2&&this.roleta3==this.roleta2?0==this.roleta3?this.debitarCliente(-5):1==this.roleta3?this.debitarCliente(-10):2==this.roleta3?this.debitarCliente(-20):3==this.roleta3?this.debitarCliente(-30):4==this.roleta3?this.debitarCliente(-50):5==this.roleta3?this.debitarCliente(-100):0:this.roleta1==this.roleta2&&this.roleta3!=this.roleta2?0==this.roleta3?this.debitarCliente(-1):1==this.roleta3?this.debitarCliente(-2):2==this.roleta3?this.debitarCliente(-3):3==this.roleta3?this.debitarCliente(-4):4==this.roleta3?this.debitarCliente(-5):5==this.roleta3?this.debitarCliente(-6):0:this.roleta1==this.roleta2&&5==this.roleta3?this.debitarCliente(-15):5==this.roleta1&&5==this.roleta2&&5!=this.roleta3?this.debitarCliente(-30):5==this.roleta1||5==this.roleta2||5==this.roleta3?this.debitarCliente(-1):this.debitarCliente(10)}}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,i),o.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var s={};return(()=>{i.d(s,{default:()=>l});var t=i(178);class e{constructor(t){this.container=t,this.tiles=[],this.tileNodes=[];const e=[].slice.call(this.container.children);this.container.style.overflow="hidden",this.element=document.createElement("div"),this.element.classList.add("slot-machine__container"),this.element.style.transition="1s ease-in-out",this.container.appendChild(this.element),this.tiles=[...e].map((t=>new n(t))),this.tileNodes=[this.tiles[this.tiles.length-1].clone(),...this.tiles,this.tiles[0].clone()],this.wrapTiles()}wrapTiles(){this.tileNodes.forEach((t=>{this.element.appendChild(t.element)}))}get lastTileOffset(){return this.tiles[0].offset}getTileOffset(t){let e=0;for(let i=0;i<t;i++)e+=this.tiles[i].offset;return-this.lastTileOffset-e}get maxTopOffset(){return-1*(this.tiles.reduce(((t,{offset:e})=>t+e),0)+this.lastTileOffset)}}class n{constructor(t){this.element=t,this.element.classList.add("slot-machine__tile")}clone(){const t=this.element.cloneNode(!0);return new n(t)}get offset(){return this.element.offsetHeight}}const o={active:0,delay:200,randomize:(t,e)=>function(t,e){return Math.floor(Math.random()*(e-t+1))+t}(0,e),direction:"up"};var a,r;!function(t){t.GRADIENT="slot-machine__container--gradient"}(a||(a={})),function(t){t.NO_TRANSITION="slot-machine__tile--no-transition",t.FAST="slot-machine__tile--blur-fast",t.NORMAL="slot-machine__tile--blur-medium",t.SLOW="slot-machine__tile--blur-slow",t.TURTLE="slot-machine__tile--blur-turtle",t.STOP="slot-machine__tile--gradient"}(r||(r={}));const h=t=>new Promise((e=>setTimeout(e,t)));class l{constructor(i,s){this.running=!1,this.stopping=!1,this.element=i,this.container=new e(this.element),this.setOptions(s),this.active=this.options.active,this.setupBounds(),this._resetPosition(),this.game=new t.l(200)}setOptions(t){this.options={...o,...t}}setupBounds(){const t=this.container.getTileOffset(this.active),e=this.container.getTileOffset(0),i=this.container.getTileOffset(this.container.tiles.length-1);this._bounds={up:{initial:t,from:i,to:0,nextReset:0,prevReset:this.container.maxTopOffset},down:{initial:t,from:e,to:this.container.maxTopOffset,nextReset:0,prevReset:this.container.maxTopOffset}}}get bounds(){return this._bounds[this.options.direction]}get active(){return this._active}set active(t){(t<0||t>=this.container.tiles.length||isNaN(t))&&(t=0),this._active=t}get transition(){return this._transition}set transition(t){this._transition=t||"ease-in-out"}get _prevIndex(){const t=this.active-1;return t<0?this.container.tiles.length-1:t}get _nextIndex(){const t=this.active+1;return t<this.container.tiles.length?t:0}get prevIndex(){return"up"===this.options.direction?this._nextIndex:this._prevIndex}get nextIndex(){return"up"===this.options.direction?this._prevIndex:this._nextIndex}set _animationFX(t){!function(t,e=0){setTimeout((()=>requestAnimationFrame(t)),e)}((()=>{this.container.tiles.map((({element:t})=>t)).forEach((e=>{e.classList.remove(r.FAST,r.NORMAL,r.SLOW,r.TURTLE),t!==r.STOP&&e.classList.add(t)})),t===r.STOP?this.container.element.classList.remove(a.GRADIENT):this.container.element.classList.add(a.GRADIENT)}),this.options.delay/4)}_changeTransition(t=this.options.delay,e=this.transition){this.container.element.style.transition=`${t/1e3}s ${e}`}_changeTransform(t){this.container.element.style.transform=`matrix(1, 0, 0, 1, 0, ${t})`}_isGoingBackward(){return!(0!==this.active||this.nextActive!==this.container.tiles.length-1)}_isGoingForward(){return!(this.active!==this.container.tiles.length-1||0!==this.nextActive)}_resetPosition(t){this.container.element.classList.toggle(r.NO_TRANSITION),this._changeTransform(void 0!==t?t:this.bounds.initial),this.container.element.offsetHeight,this.container.element.classList.toggle(r.NO_TRANSITION)}async next(){return this.nextActive=this.nextIndex,this.running=!0,await this.stop(0),this.active}async prev(){return this.nextActive=this.prevIndex,this.running=!0,await this.stop(0),this.active}_getDelayFromSpins(t){let e=this.options.delay;switch(this.transition="linear",t){case 1:e/=.5,this.transition="ease-out",this._animationFX=r.TURTLE;break;case 2:e/=.75,this._animationFX=r.SLOW;break;case 3:e/=1,this._animationFX=r.NORMAL;break;case 4:e/=1.25,this._animationFX=r.NORMAL;break;default:e/=1.5,this._animationFX=r.FAST}return e}shuffle(t){if(!this.running&&!this.stopping)return this.nextActive=this.options.randomize(this.active,this.container.tiles.length),this.remainingSpins=t,this._shuffle()}async _shuffle(){this.running=!0;const t=this._getDelayFromSpins(this.remainingSpins);this._changeTransition(t),this._changeTransform(this.bounds.to),await h(t),!this.stopping&&this.running&&(this.remainingSpins--,this._resetPosition(this.bounds.from),this.remainingSpins>1?await this._shuffle():await this.stop(0))}movimentaValor(t){return this.game.debitarCliente(t)}async stop(t=0){if(!this.running||this.stopping)return this.nextActive;if(this.running&&!this.stopping&&t)return void(this.remainingSpins=t);this.running=!0,this.stopping=!0,this._isGoingBackward()?this._resetPosition(this.bounds.prevReset):this._isGoingForward()&&this._resetPosition(this.bounds.nextReset),this.active=this.nextActive;const e=this._getDelayFromSpins(1);this._changeTransition(e),this._animationFX=r.STOP,this._changeTransform(this.container.getTileOffset(this.active)),await h(e),this.stopping=!1,this.running=!1,this.nextActive=void 0,console.log(this.active)}}})(),s=s.default})()));
//# sourceMappingURL=slotmachine.min.js.map